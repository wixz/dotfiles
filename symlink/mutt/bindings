# General remappings
# bind pager j next-line
# bind pager k previous-line
# bind pager G bottom
# bind index d half-down
# bind index u half-up
# bind index D delete-message
# bind index U undelete-message
# bind index F search
# bind index,pager R group-reply
# macro index,pager S '<sync-mailbox><shell-escape>pkill -RTMIN+12 i3blocks<enter>'
# macro index,pager \Cu |urlview\n
# macro index,pager ,, |urlview\n

# Ctrl-R to mark all as read
macro index \Cr "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"

# using neomutts trash patch
bind index,pager D purge-message

# Sync all email
# If you want to make everything indexable after syncing email, use the office-alias
macro index,pager o "<shell-escape>mbsync -a<enter>" "run mbsync to sync all mail"

# Save all attachments
# macro index,pager S "<pipe-message>ripmime -i - -d ~/Downloads && rm ~/Downloads/textfile*" "Save all non-text attachments using ripmime"

# write a new email to the sender of selected email
bind index,pager @ compose-to-sender

# opening urls with urlscan
macro index,pager \cb "<pipe-message> urlscan<Enter>" "call urlscan to extract URLs out of a message"
# macro attach,compose \cb "<pipe-entry> urlscan<Enter>" "call urlscan to extract URLs out of a message"

# finding stuff
# bind editor <tab> complete-query
# macro index F "<shell-escape>mu find --clearlinks --format=links --linksdir=~/.mu/results " "mu find"
# macro index \cf "<change-folder-readonly>~/.mu/results<enter>" "mu find results"

# copy/move dialogs
macro index C "<copy-message>?<toggle-mailboxes>" "copy a message to a mailbox"
macro index M "<save-message>?<toggle-mailboxes>" "move a message to a mailbox"